## 关系性质的判错与反例构造

1.  $集合A上的一个关系R,如果对称的和传递的，就一定是自反的。因为xRy和yRx蕴含xRx。$

    $$
    \begin{align*}
    自反
    &: \forall x(x \in A \to xRx) \\
    对称
    &: \forall x \forall y(x \in A \land y \in A \land xRy \to yRx) \\
    传递
    &: \forall x \forall y \forall z(x \in A \land y \in A \land z \in A \land xRy \land yRz \to xRz)
    \end{align*}
    $$

    $在我们想考虑的情况下z = x, 而且可以定义我们范围为A$

    $$
    \begin{align*}
    \forall x \forall y(xRy \to yRx) \land \forall x \forall y(xRy \land yRx \to xRx)
    &= \forall x \forall y((xRy \to yRx) \land (xRy \land yRx \to xRx)) \\
    &= \forall x \forall y((\neg xRy \lor yRx) \land (\neg xRy \lor \neg yRx \lor xRx)) \\
    &= \forall x \forall y(\neg xRy \lor (yRx \land (\neg yRx \lor xRx))) \\
    &= \forall x \forall y(xRy \to ((yRx \land \neg yRx) \lor (yRx \land xRx))) \\
    &= \forall x \forall y(xRy \to (yRx \land xRx)) \\
    &\Rightarrow \forall x \forall y(xRy \to xRx) \\
    &\not= \forall x(xRx)
    \end{align*}
    $$
    
    $所以传递和对称的关系不一定自反$

2.  $R = \empty$


## 自反性与恒等关系的等价证明

1.  
    $$
    \begin{align*}
    I_A \subseteq R
    &\Leftrightarrow \forall y(y \in I_A \to y \in R) \\
    &\Leftrightarrow \forall x(x \in A \to \langle x, x \rangle \in I_A) \land \forall y(y \in I_A \to y \in R) \\
    &\Leftrightarrow \forall x(x \in A \to \langle x, x \rangle \in I_A) \land \forall x(\langle x, x \rangle \in I_A \to \langle x, x \rangle \in R) \\
    &\Leftrightarrow \forall x((x \in A \to \langle x, x \rangle \in I_A) \land (\langle x, x \rangle \in I_A \to \langle x, x \rangle \in R)) \\
    &\Leftrightarrow \forall x(x \in A \to \langle x, x \rangle \in R) \\
    &\Leftrightarrow \forall x(x \in A \to xRx) \\
    &\Leftrightarrow R 是自反的
    \end{align*}
    $$


## 构造具有指定性质的关系示例

1.  $R = \empty$

2.  $R = \{\langle 1, 1 \rangle, \langle 1, 2\rangle, \langle 2, 3 \rangle, \langle 1, 3 \rangle, \langle 2, 1 \rangle, \langle 2, 2 \rangle\}$


## 传递性判断与传递闭包构造

1.  $R不是传递的因为\langle 1, 2 \rangle \in R \land \langle 2, 1 \rangle \in R但是1\cancel{R}1$

2.  $R_1 = \{\langle 1, 1 \rangle, \langle 1, 2 \rangle, \langle 2, 1 \rangle, \langle 2, 2 \rangle, \langle 3, 1 \rangle, \langle 3, 2 \rangle, \langle 4, 1 \rangle, \langle 4, 2 \rangle, \langle 4, 3 \rangle\}$


## 集合运算

1.  $R_1 \circ R_2 = \{\langle a, c \rangle, \langle a, d \rangle, \}$
    $R_2 \circ R_1 = \{\langle c, d \rangle\}$
    $R_1^2 = \{\langle a, a\rangle, \langle a, b \rangle, \langle a, d \rangle\}$
    $R_2^2 = \{\langle b, b \rangle, \langle c, c \rangle, \langle c, d \rangle\}$

2.  $r(R) = \{\langle a, a \rangle, \langle a, b \rangle, \langle b, b \rangle, \langle b, c \rangle, \langle b, e \rangle, \langle c, c \rangle, \langle c, d \rangle, \langle d, c \rangle, \langle d, d \rangle, \langle e, e \rangle\}$
    $s(R) = \{\langle a, b \rangle, \langle b, a \rangle, \langle b, c \rangle, \langle b, e \rangle, \langle c, b \rangle, \langle c, d \rangle, \langle d, c \rangle, \langle e, b \rangle, \langle e, e \rangle\}$
    $t(R) = \{\langle a, b \rangle, \langle a, c \rangle, \langle a, d \rangle, \langle a, e \rangle, \langle b, c \rangle, \langle b, d \rangle, \langle b, e \rangle, \langle c, c \rangle, \langle c, d \rangle, \langle d, c \rangle, \langle d, d \rangle, \langle e, e \rangle\}$